## NSKeyedArchiver

키로 참조되는 아카이브에 객체의 데이터를 저장하는 인코더

#### Declaration

```swift
class NSKeyedArchiver : NSCoder
```



#### Overview

`NSKeyedArchiver`는 `NSCoder`의 구체적인 하나의 서브클래스로 객체(및 스칼라 값)를 파일에 저장하기에 적합한 아키텍처 독립적으로 인코딩하는 방법을 제공한다. 객체 세트를 아카이브할 때, 아카이버는 각 객체에 대한 클래스 정보와 인스턴스 변수를 아카이브하기 위해 쓴다. `NSKeyedUnarchiver`는 아카이브에 있는 데이터를 디코드하고 기존 세트와 동일한 오브젝트 세트를 생성한다.

키 기반 아카이브(keyed archive)는 키 기반이 아닌 아카이브(non-keyed archive)와 다른데, 인코딩되는 모든 객체와 값은 이름 또는 키를 가지고 있다. 키 기반이 아닌 아카이브를 디코딩 할 때에는 디코더는 기존의 인코더가 사용했던 같은 순서대로 값을 디코딩해야한다. 키 기반 아카이브를 디코딩할 때에는 디코더는 이름으로 값을 요청하는데, 순서가 아닌 값을 디코드하거나 아예 디코드를 할 수 없다. 따라서 키 기반 아카이브는 순반향 및 역방향 호환성을 더 잘 지원한다.

인코드된 값에 주어진 키는 현재 인코딩되는 오브젝트 스코프 안에서만 유일해야 한다. 키기반 아카이브는 계층적이기 때문에 오브젝트 A에서 인스턴스 변수를 인코드하기 위해 사용된 키는 오브젝트 B에 사용되어도 충돌이 나지 않는다. A와 B가 같은 클래스의 인스턴스여도 이는 성립된다. 하지만 단일 객체 안에서는 서브클래스에 사용된 키는 상위 클래스와 충돌을 야기하기도 한다.

`NSArchiver` 오브젝트는 아카이브 데이터를 파일 또는 mutable 데이터 오브젝트(NSMutableData 인스턴스)로 쓸(write) 수 있다.

